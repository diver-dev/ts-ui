import{br as B,bm as F,cg as L,as as P,ch as T,ci as p,cj as R,j as e,ck as W,aJ as u,aN as x,cm as A,cn as q,N as o,cl as I,bf as h,a6 as z,co as C,cp as N}from"./index-BnH1FrvR.js";const E=o(I)(()=>({textAlign:"center",display:"block",margin:"auto"})),M=o("div")(({theme:a})=>({padding:"48px 40px 36px",[a.breakpoints.down("xs")]:{padding:"0px 40px 36px"}})),V=o("div")(()=>({margin:0,border:0,display:"inline-flex",padding:0,position:"relative",minWidth:0,flexDirection:"column"})),D=o("div")(()=>({position:"relative",width:"100%",maxWidth:280,minWidth:280})),g=o("span")(()=>({display:"inherit",fontSize:"small",marginTop:"25px",marginBottom:15})),H=o(h)(({theme:a})=>({color:a.palette.primary.main,display:"inline-block"})),_=o(h)(()=>({fontSize:11}));function $(){const{login:a}=B(),{t:s}=F(),n=L(),{enqueueSnackbar:b,closeSnackbar:j}=P(),f=T().shape({email:p().email(s("login.emailNotVelid")).required(s("login.emailRequiredError")),password:p().required(s("login.passwordRequiredError"))}),l=R({initialValues:{email:"",password:"",remember:!0},validationSchema:f,onSubmit:async(d,{setStatus:S,setSubmitting:m,resetForm:k})=>{try{await a(d.email,d.password),b("Login success",{variant:"success",action:t=>e.jsx(z,{size:"small",onClick:()=>j(t),children:e.jsx(C,{})})}),n.current&&m(!1)}catch(t){if(console.error(t),k(),n.current){m(!1);const v={afterSubmit:t.message};S(v)}}}}),{errors:r,touched:i,isSubmitting:y,handleSubmit:w,getFieldProps:c}=l;return e.jsx(W,{value:l,children:e.jsx(E,{autoComplete:"off",noValidate:!0,onSubmit:w,children:e.jsxs(M,{children:[e.jsx(u,{}),e.jsx(x,{color:"secondary",sx:{minWidth:280,marginTop:5},autoComplete:"username",type:"email",label:s("login.emailLabel"),...c("email"),error:!!(i.email&&r.email),helperText:i.email&&r.email,tabIndex:1}),e.jsx("br",{}),e.jsx(x,{color:"secondary",sx:{minWidth:280,marginTop:5},autoComplete:"current-password",type:"password",...c("password"),label:s("login.passwordLabel"),error:!!(i.password&&r.password),helperText:i.password&&r.password,tabIndex:2}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(V,{children:e.jsx(D,{children:e.jsx(A,{tabIndex:3,fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:y,children:s("login.loginButton")})})}),e.jsx(g,{children:e.jsx(_,{to:"/resetPassword",children:s("login.forgetPasswordMessage")})}),e.jsx(u,{}),e.jsxs(g,{children:[s("login.createAccountText")," ",e.jsx(H,{to:q.register,children:s("login.createAccountButton")})]})]})})})}function U(){return e.jsx(N,{children:e.jsx($,{})})}export{U as default};
