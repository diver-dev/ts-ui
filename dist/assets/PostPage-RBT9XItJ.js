import{al as m,as as u,r,at as x,au as d,av as f,aw as h,j as i,ax as y,aq as g,F as w,p as P,N as l}from"./index-BnH1FrvR.js";import{P as S}from"./PostCard-DtJ4JL90.js";import"./Checkbox-BfLdzD2m.js";import"./CardContent-BKe73X8M.js";const j=w.selectPostByURLKeyWithProfile(),I=P.selectUserProfileById(),k=l("div")(()=>({textAlign:"center"})),v=l("div")(()=>({maxWidth:1200,whiteSpace:"nowrap",lineHeight:0,position:"relative",boxPack:"center",WebkitJustifyContent:"center",justifyContent:"center",display:"flex",margin:"0 auto",width:"100%","@media (min-width: 440px)":{width:"90%"},"@media only screen and (min-width: 860px)":{width:"90%"},"@media (min-width: 1600px)":{width:"94%"},"@media (max-width: 440px)":{width:"calc(100% - 16px)",margin:"0 8px"}}));function E(){const{urlKey:t}=m(),{enqueueSnackbar:n}=u(),[p,o]=r.useState(!0),s=x(),e=d(a=>j(a,{urlKey:t}));d(a=>I(a,{userId:e.get("ownerUserId")}));const c=r.useCallback(async()=>{o(!0);try{await s(f(t))}catch(a){n(a.message,{variant:"error"})}finally{o(!1)}},[t,s,n]);return r.useEffect(()=>{t&&c()},[t,s,c]),r.useEffect(()=>{e&&e.get("ownerUserId")&&s(h(e.get("ownerUserId")))},[e,s]),i.jsx(v,{children:i.jsx(y,{spacing:3,sx:{minWidth:{xs:"100%",md:600}},children:p||e.isEmpty()?i.jsx(k,{children:i.jsx(g,{sx:{alignSelf:"center"},size:20})}):i.jsx(S,{post:e},`${e.get("id")}-stream-div-post`)})})}export{E as default};
