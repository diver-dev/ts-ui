var ve=Object.defineProperty;var Ce=(s,t,n)=>t in s?ve(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var O=(s,t,n)=>(Ce(s,typeof t!="symbol"?t+"":t,n),n);import{J as be,K as je,ay as Z,N as we,_ as y,az as ye,aA as z,r as w,O as Se,Q as ke,j as e,V as Pe,W as Ie,d as ee,v as x,m as N,P as Te,f as _e,l as R,p as L,H as Ne,q as U,s as M,S as Re,z as Le,A as H,aB as Ue,aC as Me,w as F,a as $,aD as te,a8 as Fe,a9 as $e,aE as A,u as se,R as b,a6 as Ae,aF as We,aG as Be,aH as De,aI as X,aa as qe,B as Ee,aJ as Oe,L as Y,i as ze,h as K,aK as He,x as ne,a3 as Xe,aL as Ye,aM as Ke,aN as Ge,aO as Je,aP as Qe,n as S,U as Ve,aQ as Ze,aR as et,al as tt,I as st,T as nt}from"./index-BnH1FrvR.js";import{U as rt}from"./UserCard-BwF-HXW0.js";import{u as ot}from"./FollowButton-92M1BIiJ.js";import{C as at}from"./Checkbox-BfLdzD2m.js";import{A as it,a as I}from"./index-D69MKJan.js";import"./Link-BBKROMoE.js";function lt(s){return String(s).match(/[\d.\-+]*\s*(.*)/)[1]||""}function ct(s){return parseFloat(s)}function dt(s){return be("MuiSkeleton",s)}je("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const pt=["animation","className","component","height","style","variant","width"];let k=s=>s,G,J,Q,V;const ut=s=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:a}=s;return Ie({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!a&&"heightAuto"]},dt,t)},ht=Z(G||(G=k`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),gt=Z(J||(J=k`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),xt=we("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:n}=s;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:s,ownerState:t})=>{const n=lt(s.shape.borderRadius)||"px",r=ct(s.shape.borderRadius);return y({display:"block",backgroundColor:s.vars?s.vars.palette.Skeleton.bg:ye(s.palette.text.primary,s.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(s.vars||s).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:s})=>s.animation==="pulse"&&z(Q||(Q=k`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),ht),({ownerState:s,theme:t})=>s.animation==="wave"&&z(V||(V=k`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),gt,(t.vars||t).palette.action.hover)),T=w.forwardRef(function(t,n){const r=Se({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:a="span",height:l,style:u,variant:p="text",width:f}=r,h=ke(r,pt),g=y({},r,{animation:o,component:a,variant:p,hasChildren:!!h.children}),v=ut(g);return e.jsx(xt,y({as:a,ref:n,className:Pe(v.root,i),ownerState:g},h,{style:y({width:f,height:l},u)}))}),mt=ee.selectCurrentUser();function W(s){const n=x(mt).get("userId"),r=()=>{const{users:o}=s,i=[];return o&&o.forEach(a=>{const l=a.get("userId");n!==l&&i.push(e.jsx(rt,{user:a,sx:{p:2,m:2,minWidth:230}},l))}),i};return e.jsx("div",{className:"grid grid__1of4 grid__space-around",children:r()})}const ft=N(s=>R({root:{width:"100%",maxWidth:360,backgroundColor:s.palette.background.paper},paper:{height:254,width:243,margin:10,textAlign:"center",minWidth:230,maxWidth:"257px"},dialogContent:{paddingTop:"5px",padding:"0px 5px 5px 5px"},circleName:{fontSize:"1rem"},space:{height:20},fullPageXs:{[s.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}},followButton:{position:"absolute",bottom:"30px",left:0,right:0},dialog:{width:"",maxWidth:"280px",borderRadius:"4px"}}));function vt(){const s=ft();return e.jsx(Te,{elevation:1,className:_e("grid-cell",s.paper),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100%",position:"relative",paddingTop:20},children:[e.jsx("div",{style:{cursor:"pointer"},children:e.jsx(T,{variant:"rectangular",width:90,height:90,sx:{borderRadius:"8px"}})}),e.jsx("div",{className:"people__name",style:{cursor:"pointer"},children:e.jsx(T,{variant:"text",width:210,height:50})}),e.jsx("div",{className:"people__name",style:{cursor:"pointer"},children:e.jsx(T,{variant:"text",width:100,height:50})})]})})}const Ct=N(()=>R({skeletonRoot:{display:"flex",justifyContent:"center",alignItems:"center"}})),bt=L.selectMoreFindPeople(),jt=L.selectFindPeople(),wt=L.selectFindPeoplePage(),yt=Ne.selectRequest(),St=ee.selectCurrentUser();function kt(){const{t:s}=U(),t=Ct(),n=M(),r=(d,P)=>n(Ue(d,P)),o=()=>n(Me()),a=x(d=>St(d)).get("userId"),l=x(d=>bt(d)),u=x(d=>jt(d)),p=x(d=>wt(d)),f=Re.createServerRequestId(Le.UserFetchRequest,a),g=x(d=>yt(d,{requestId:f})).get("status",H.NoAction),v=()=>{p!==void 0&&(r(p,10),o())},j=g===H.Sent,[C]=ot({loading:j,hasNextPage:l,onLoadMore:v,disabled:!1,rootMargin:"0px 0px 400px 0px"});return e.jsxs("div",{children:[e.jsx("div",{className:"profile__title",children:s("people.suggestionsForYouLabel")}),u&&u.count()>0?e.jsxs("div",{children:[e.jsx(W,{users:u}),e.jsx("div",{style:{height:"24px"}})]}):e.jsx("div",{className:"g__title-center",children:s("people.nothingToShowLabel")}),(j||l)&&e.jsx("div",{ref:C,className:t.skeletonRoot,children:e.jsx(vt,{})})]})}class Pt extends w.Component{constructor(t){super(t),this.state={}}render(){const{t}=this.props,{followers:n}=this.props;return e.jsx("div",{children:n&&n.keySeq().count()!==0?e.jsxs("div",{children:[e.jsx("div",{className:"profile__title",children:t("people.followersLabel")}),e.jsx(W,{users:n}),e.jsx("div",{style:{height:"24px"}})]}):e.jsx("div",{className:"g__title-center",children:t("people.noFollowersLabel")})})}}const It=()=>({}),Tt=s=>({followers:s.getIn(["circle","userTieds"],te({}))}),_t=F("translations")(Pt),Nt=$(Tt,It)(_t);class Rt extends w.Component{constructor(t){super(t),this.state={}}render(){const{t}=this.props,{followingUsers:n}=this.props;return e.jsx("div",{children:n&&n.keySeq().count()!==0?e.jsxs("div",{children:[e.jsx("div",{className:"profile__title",children:t("people.followingLabel")}),e.jsx(W,{users:n}),e.jsx("div",{style:{height:"24px"}})]}):e.jsx("div",{className:"g__title-center",children:t("people.noFollowingLabel")})})}}const Lt=()=>({}),Ut=s=>{const t=s.getIn(["authorize","uid"],0),n=s.getIn(["circle","circleList"],{}),r=s.getIn(["circle","userTies"],{});return{uid:t,circles:n,followingUsers:r}},Mt=F("translations")(Rt),Ft=$(Ut,Lt)(Mt);var B={},$t=$e;Object.defineProperty(B,"__esModule",{value:!0});var re=B.default=void 0,At=$t(Fe()),Wt=e;re=B.default=(0,At.default)((0,Wt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5M9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8m6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"GroupWork");const Bt=N(s=>R({userListItem:{backgroundColor:"#e2e2e2"},rightIconMenu:{display:"block",position:"absolute",top:"0px",right:"12px"},settingOverlay:{background:"rgba(0,0,0,0.12)"},settingContent:{maxWidth:"400px"},listMenu:{color:"rgba(0,0,0,0.87)",fontSize:"16px",marginRight:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},root:{width:"100%",paddingRight:"0px",backgroundColor:s.palette.background.paper},popperOpen:{zIndex:10},popperClose:{pointerEvents:"none",zIndex:0},dialogPaper:{minWidth:400},fullPageXs:{[s.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}}})),Dt=A.selectCircleUsers(),qt=A.selectSettingOpen();function Et(s){const{id:t,circle:n}=s,r=Bt(),{t:o}=U(),i=se(),[a,l]=b.useState(!1),u=n.get("name",""),[p,f]=b.useState(u==="Following"?o("userBox.followingLabel"):u),[h,g]=b.useState(!1),[v,j]=b.useState(null),C=M(),d=c=>C(Ze(c)),P=c=>C(et(c)),D=()=>C(Je(t)),oe=()=>C(Qe(t)),q=x(c=>Dt(c,{circleId:t})),ae=x(c=>qt(c,{circleId:t})),ie=c=>{const{value:m}=c.target;f(m==="Following"?o("userBox.followingLabel"):m),g(!m||m.trim()==="")},le=()=>{j(null)},ce=c=>{j(c.currentTarget)},de=()=>{p&&p.trim()!==""&&P({name:p,id:t})},pe=()=>{d(t)},ue=()=>{l(!a)},he=()=>{const c=[];return q?(q.forEach((m,me)=>{const E=m.get("fullName"),fe=m.get("avatar","");c.push(e.jsxs(Y,{button:!0,className:r.userListItem,onClick:()=>i(S.user.profile.replace(":socialName",m.get("socialName"))),children:[e.jsx(Ve,{displayName:E,src:fe}),e.jsx(K,{inset:!0,primary:E})]},`${t}.${me}`))}),c):[]},ge=e.jsxs("div",{children:[e.jsx(Ae,{"aria-owns":v?"circle-menu":"","aria-haspopup":"true",onClick:ce,children:e.jsx(We,{})}),e.jsx(Be,{id:"current-user-menu-root",anchorEl:v,open:!!v,onClose:le,PaperProps:{style:{maxHeight:200*4.5,boxShadow:"0 1px 4px 0 rgba(0,0,0,0.14)"}},children:e.jsxs(De,{role:"menu",children:[e.jsxs(X,{onClick:pe,children:[" ",o("circle.deleteCircleButton")," "]}),e.jsxs(X,{onClick:oe,children:[" ",o("circle.settingLable")," "]})]})})]}),xe=e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e.jsx("div",{style:{paddingRight:"10px"},children:e.jsx(qe,{onClick:D,style:{cursor:"pointer"}})}),e.jsx("div",{style:{color:"rgba(0,0,0,0.87)",flex:"1 1",font:"500 20px Roboto,RobotoDraft,Helvetica,Arial,sans-serif"},children:o("circle.settingLable")}),e.jsx("div",{style:{marginTop:"-9px"},children:e.jsxs(Ee,{color:"primary",disabled:h,onClick:de,children:[" ",o("circle.saveButton")," "]})})]}),e.jsx(Oe,{})]});return e.jsxs("div",{children:[e.jsxs(Y,{className:r.root,onClick:ue,children:[e.jsx(ze,{children:e.jsx(re,{})}),e.jsx(K,{inset:!0,primary:e.jsx("span",{children:p})}),e.jsx(He,{children:n.get("isSystem")?null:ge})]},`${t}-CircleComponent`),e.jsx(at,{component:"li",in:a,timeout:"auto",unmountOnExit:!0,children:e.jsx(ne,{disablePadding:!0,children:he()})}),e.jsxs(Xe,{PaperProps:{className:r.fullPageXs},open:ae||!1,onClose:D,classes:{paper:r.dialogPaper},children:[e.jsx(Ye,{children:xe}),e.jsx(Ke,{children:e.jsx(Ge,{fullWidth:!0,autoFocus:!0,placeholder:o("circle.circleName"),label:o("circle.circleName"),onChange:ie,value:p})})]},t)]})}class Ot extends w.Component{constructor(n){super(n);O(this,"circleList",()=>{const{circles:n,uid:r}=this.props,o=[];return n&&n.forEach((i,a)=>{a&&i&&r&&o.push(e.jsx(Et,{circle:i,id:a,uid:r},a))}),o});this.state={}}render(){const{t:n}=this.props,r=this.circleList();return e.jsx("div",{style:{maxWidth:"800px",margin:"40px auto"},children:r&&r.length!==0?e.jsxs("div",{children:[e.jsx("div",{className:"profile__title",children:n("yourCircles.title")}),e.jsx(ne,{children:r}),e.jsx("div",{style:{height:"24px"}})]}):""})}}const zt=()=>({}),Ht=s=>{const t=s.getIn(["authorize","uid"]),n=s.getIn(["circle","circleList"],te({}));return{uid:t,circles:n}},Xt=F("translations")(Ot),Yt=$(Ht,zt)(Xt),_=s=>e.jsx(nt,{component:"div",style:{padding:8*3},children:s.children}),Kt=s=>{switch(s){case"circles":return 1;case"followers":return 2;default:return 0}};function ss(){const{tab:s}=tt(),{t}=U(),n=M(),r=se(),o=h=>r(h),i=w.useCallback(h=>n(st(h)),[n]),a=x(A.selectCirclesLoaded()),[l,u]=b.useState(Kt(s)),p=(h,g)=>{switch(u(g),g){case 0:o(S.user.friends);break;case 1:o(S.user.friendsTab.replace(":tab","circles"));break;case 2:o(S.user.friendsTab.replace(":tab","followers"));break}};b.useEffect(()=>{switch(s){case void 0:case"":i(t("header.peopleCaption"));break;case"circles":i(t("header.circlesCaption"));break;case"followers":i(t("header.followersCaption"));break}},[s,i,t]);const f={people:{margin:"0 auto"},headline:{fontSize:24,paddingTop:16,marginBottom:12,fontWeight:400},slide:{padding:10}};return e.jsxs("div",{style:f.people,children:[e.jsxs(it,{indicatorColor:"secondary",onChange:p,value:l,centered:!0,textColor:"primary",children:[e.jsx(I,{label:t("people.findPeopleTab")}),e.jsx(I,{label:t("people.followingTab")}),e.jsx(I,{label:t("people.followersTab")})]}),l===0&&e.jsx(_,{children:a?e.jsx(kt,{}):""}),l===1&&e.jsxs(_,{children:[a?e.jsx(Ft,{}):"",a?e.jsx(Yt,{}):""]}),l===2&&e.jsx(_,{children:a?e.jsx(Nt,{}):""})]})}export{ss as FindFriendsPage,ss as default};
