import{ar as g,j as t,aq as f,R as P,q as j,r as u,T as S}from"./index-BnH1FrvR.js";import{P as M}from"./PostCard-DtJ4JL90.js";import{u as y}from"./FollowButton-92M1BIiJ.js";function L(){const s=g();return t.jsx("div",{className:"g-load-more",children:t.jsx(f,{size:30,thickness:5,style:{color:s.palette.primary.light}})},"load-more-progress")}function q(s){const{t:e}=j(),[i,d]=u.useState(0),[o,c]=u.useState(!1),{hasMorePosts:a,posts:r}=s,h=async()=>{const{loadStream:n}=s;o||(c(!0),await n(i),c(!1),d(i+1))},p=()=>{const{posts:n}=s,l=[];return(n||[]).forEach(m=>{l.push(t.jsx(M,{post:m},`${m.get("id")}-stream-div-post`))}),l},[x]=y({loading:o,hasNextPage:a,onLoadMore:h,disabled:!1,rootMargin:"0px 0px 400px 0px"});return t.jsxs("div",{children:[r&&r.count()>0&&p(),r&&r.count()===0&&!o&&!a&&t.jsx(S,{sx:{textAlign:"center"},variant:"subtitle1",color:"inherit",children:e("profile.nothingToShowLabel")}),(o||a)&&t.jsx("div",{ref:x,children:t.jsx(L,{},"stream-load-more-progress")})]})}const R=P.memo(q,(s,e)=>e.posts.equals(s.posts)&&e.hasMorePosts===s.hasMorePosts&&s.requestStatus===e.requestStatus);export{R as P};
