var R=Object.defineProperty;var b=(e,r,s)=>r in e?R(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var g=(e,r,s)=>(b(e,typeof r!="symbol"?r+"":r,s),s);import{c as q,g as B,w as A,a as D,b as M,d as f,e as x,D as S,o as z,r as P,j as t,f as j,P as H,L as y,M as F,h as O,i as $,k as E,m,l as h,u as W,U as G,T as C,n as L,p as _,q as v,s as N,t as Q,v as u,R as T,C as X,x as Y,B as J,y as K,S as V,z as Z,A as tt,G as d,E as et,F as w,H as st,I as rt}from"./index-BnH1FrvR.js";import{P as ot}from"./index-D4Ovpkeo.js";import{F as at}from"./FollowButton-92M1BIiJ.js";import{C as nt}from"./CardContent-BKe73X8M.js";import{C as it}from"./CardActions-GM0tahgm.js";import"./PostCard-DtJ4JL90.js";import"./Checkbox-BfLdzD2m.js";const ct=()=>q({postWritePrimaryText:{color:B[400],cursor:"text"},postWtireItem:{fontWeight:200}}),lt=e=>({openPostWrite:()=>e(z(S.PostWrite))}),ut=()=>{const e=f.selectCurrentUser(),r=x.selectDialogState(),s=x.selectProgress();return o=>{const n=e(o),c=r(o,{type:S.PostWrite}),l=s(o);return{avatar:n.get("avatar",""),fullName:n.get("fullName"),postWriteDilogOpen:c,progress:l}}},pt=e=>{const r=A("translations")(e);return D(ut,lt)(M(ct)(r))};class dt extends P.Component{constructor(s){super(s);g(this,"handleOpenPostWrite",()=>{const{openPostWrite:s}=this.props;s&&s()});this.handleOpenPostWrite=this.handleOpenPostWrite.bind(this)}render(){const{tag:s,displayWriting:i,classes:o,t:n}=this.props;return t.jsx("div",{className:j("grid-cell animate-top",o.gridCell),children:i&&!s?t.jsxs(t.Fragment,{children:[t.jsx(H,{elevation:2,children:t.jsxs(y,{button:!0,className:o.postWtireItem,onClick:this.handleOpenPostWrite,children:[t.jsx(F,{size:36}),t.jsx(O,{inset:!0,primary:t.jsxs("span",{className:o.postWritePrimaryText,children:[" ",n("home.postWriteButtonText")]})}),t.jsx($,{children:t.jsx(E,{})})]})}),t.jsx("div",{style:{height:"16px"}})]}):""})}}const mt=pt(dt),ht=m(e=>h({paper:{height:254,width:243,margin:10,textAlign:"center",minWidth:230,maxWidth:"257px"},dialogContent:{paddingTop:"5px",padding:"0px 5px 5px 5px"},circleName:{fontSize:"1rem"},space:{height:20},fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}},avatar:{minWidth:45,flexShrink:0,cursor:"pointer"},root:{display:"flex",width:"100%",justifyContent:"start",alignItems:"center"},name:{flex:1,overflow:"hidden",padding:5,minWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap"}}));function gt(e){const r=W(),s=ht(),i=()=>{const{onClick:l,user:p}=e;l&&l(p)},o=()=>{const{user:l,disableProfile:p}=e;p||r(L.user.profile.replace(":socialName",l.get("socialName")))},{user:n,follow:c}=e;return t.jsx(y,{onClick:i,children:t.jsxs("div",{className:s.root,children:[t.jsx("span",{onClick:o,className:s.avatar,children:t.jsx(G,{displayName:n.get("fullName"),src:n.get("avatar"),size:30})}),t.jsx(C,{className:s.name,onClick:o,style:{cursor:"pointer"},variant:"body1",children:n.get("fullName")}),c&&t.jsx(at,{user:n})]})})}const xt=m(e=>h({root:{minWidth:275},listRoot:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})),ft=_.selectUserSuggestions();function St(){const e=xt(),{t:r}=v(),s=W(),i=N(),o=P.useCallback(()=>i(Q()),[i]),n=u(c=>ft(c));return T.useEffect(()=>{o()},[o]),t.jsxs(X,{className:e.root,children:[t.jsxs(nt,{children:[t.jsx(C,{className:e.title,color:"textSecondary",gutterBottom:!0,children:r("rightPanel.suggestionTitle")}),t.jsx(Y,{className:e.listRoot,children:n.map(c=>t.jsx(gt,{follow:!0,user:c},`${c.get("userId")}-user-item`)).valueSeq()})]}),t.jsx(it,{children:t.jsx(J,{onClick:()=>s("/people"),size:"small",children:r("rightPanel.findFriendsBtn")})})]})}function Pt(){return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{height:10}}),t.jsx(St,{})]})}const jt=f.selectCurrentUser(),yt=w.selectHasMorePostStream(),Wt=st.selectRequest(),Ct=w.selectStreamPosts();function qt(){const{t:e}=v(),r=vt(),s=K(a=>a.breakpoints.down("md")),i=N(),o=a=>i(rt(a||"")),c=u(a=>jt(a)).get("userId"),l=V.createServerRequestId(Z.StreamGetPosts,c),I=u(a=>Wt(a,{requestId:l})).get("status",tt.NoAction),k=u(a=>yt(a)),U=u(a=>Ct(a));return T.useEffect(()=>{o(e("header.home"))}),t.jsxs(d,{container:!0,justifyContent:"space-around",spacing:3,children:[t.jsxs(d,{className:j(r.gridItem,r.postGrid),xs:12,md:8,item:!0,children:[t.jsx(mt,{displayWriting:!0}),t.jsx(ot,{requestId:l,posts:U,loadStream:a=>i(et(a,10)),hasMorePosts:k,requestStatus:I})]}),!s&&t.jsx(d,{className:r.gridItem,md:4,item:!0,children:t.jsx(Pt,{})})]})}const vt=m(()=>h({root:{},gridItem:{padding:"24px !important"},postGrid:{"max-width":"700px !important"}}));export{qt as default,vt as useStyles};
